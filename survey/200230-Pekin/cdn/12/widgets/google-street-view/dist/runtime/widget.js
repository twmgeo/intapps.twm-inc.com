System.register(["jimu-core","jimu-arcgis","jimu-ui"],(function(e,t){var o={},i={},s={};return{setters:[function(e){o.React=e.React,o.jsx=e.jsx},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent},function(e){s.Button=e.Button,s.Icon=e.Icon}],execute:function(){e((()=>{var e={351:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg"><path d="M10 22v-7H8V9q0-.825.588-1.413Q9.175 7 10 7h4q.825 0 1.413.587Q16 8.175 16 9v6h-2v7Zm2-16q-.825 0-1.412-.588Q10 4.825 10 4t.588-1.413Q11.175 2 12 2t1.413.587Q14 3.175 14 4q0 .825-.587 1.412Q12.825 6 12 6Z" style="paint-order:stroke;fill-rule:nonzero;fill:orange;stroke:#374100"></path></svg>'},6826:e=>{"use strict";e.exports=i},8891:e=>{"use strict";e.exports=o},726:e=>{"use strict";e.exports=s}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var n={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(n),r.d(n,{default:()=>s});var e=r(8891),t=r(6826),o=r(726);const i=r(351);class s extends e.React.PureComponent{constructor(e){super(e),this.state={jimuMapView:null,streetViewActive:!1},this.onStreetViewToggle=()=>{console.log(this.style),this.streetViewActive?(this.streetViewActive=!1,document.body.style.cursor="auto"):(this.streetViewActive=!0,document.body.style.cursor=`url('${e.context.folderUrl}dist/runtime/assets/icons/man24px_orange.svg'), crosshair`,document.addEventListener("keyup",(e=>{"Escape"===e.code&&(this.streetViewActive=!1,document.body.style.cursor="auto")}),!1))},this.openGoogleStreetView=(e,t)=>{var o="http://maps.google.com/maps?q=Your+Sign+Location+in+Street+View@"+t+","+e+"&cbll="+e+","+t+"&layer=c";window.open(o)},this.activeViewChangeHandler=e=>{e&&(this.setState({jimuMapView:e}),e.view.on("click",(e=>{if(this.streetViewActive){const t=this.state.jimuMapView.view.toMap({x:e.x,y:e.y});this.openGoogleStreetView(t.latitude.toFixed(3),t.longitude.toFixed(3)),this.streetViewActive=!1,document.body.style.cursor="auto"}})))},this.state={}}render(){var s;return(0,e.jsx)("div",{className:"widget-google-streetview jimu-widget m-2",style:{overflow:"auto"}},this.props.hasOwnProperty("useMapWidgetIds")&&this.props.useMapWidgetIds&&this.props.useMapWidgetIds[0]&&(0,e.jsx)(t.JimuMapViewComponent,{useMapWidgetId:null===(s=this.props.useMapWidgetIds)||void 0===s?void 0:s[0],onActiveViewChange:this.activeViewChangeHandler}),(0,e.jsx)(o.Button,{"aria-label":"Button",icon:!0,onClick:this.onStreetViewToggle,size:"default",style:{backgroundColor:"white"}},(0,e.jsx)(o.Icon,{icon:i,color:"orange",width:"24px",height:"24px"})))}}})(),n})())}}}));